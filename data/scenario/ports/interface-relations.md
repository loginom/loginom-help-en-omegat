# Интерфейс «Связи»

В списке "Входные" отображаются поля/переменные принятого портом набора данных (входного набора порта), которые следует сопоставить с полями/переменными выходного набора порта, представленными в списке "Выходные". Для связывания необходимо зажать левой кнопкой мыши ячейку поля из левого списка и перенести ее на ячейку поля из правого списка, с которым следует соотнести, затем отпустить левую кнопку мыши, при этом отобразится графическая связь между ними. Удалить такую связь можно нажатием на кнопку ![](../../images/icons/link-grid/remove-link_hover.svg) на линии связи.

> **Важно:** допустимо сопоставление полей/переменных только [совместимых типов данных](../../data/compatibility.md).

В случае, если настраивается входной порт принимающий табличные данные, список "Выходные" отображает назначение полей набора данных, подаваемого на обработку алгоритмом узла. Если настраивается входной порт принимающий переменные, список "Выходные" отображает значения переменных.

Панель инструментов списка "Входные" содержит следующие команды:

* ![](../../images/icons/toolbar-controls/get-column-list_default.svg) **Получить список** — загрузка списка входных полей в случае его отсутствия (например, если импорт из базы данных задается через SQL-запрос). Команда доступна только для настройки выходного порта.
* ![](../../images/icons/toolbar-controls/create-out-column_default.svg) **Создать выходной...** — создает для выбранного входного поля/переменной такое же поле в списке "Выходные" и устанавливает с ним соответствие.
* ![](../../images/icons/toolbar-controls/create-out-columns_default.svg) **Создать выходные для всех входных...** — создает для всех входных полей/переменных такие же поля в списке "Выходные" и устанавливает с ними соответствие.
* **Тип создания производных столбцов** — кнопка отображается в случае, когда алгоритм компонента предусматривает добавление в результирующий набор новых полей/переменных, вычисленных на основе исходных (например, компонент [Замена](../../processors/transformation/substitution/README.md)), варианты настройки следующие:
   * ![](../../images/icons/toolbar-controls/tune_default.svg) **По умолчанию** — индивидуален для каждого компонента, реализует либо режим Замена, либо Добавление;
   * ![](../../images/icons/toolbar-controls/plus_default.svg) **Добавление** — к настраиваемым столбцам добавляются поля, вычисленные на основе обрабатываемых полей;
   * ![](../../images/icons/toolbar-controls/edit_default.svg) **Замена** — вычисленные поля замещают обрабатываемые.

Панель инструментов списка "Выходные" содержит следующие команды:

* ![](../../images/icons/toolbar-controls/plus_default.svg) **Добавить** — добавляет новое поле в список настраиваемых столбцов и открывает диалог редактирования его параметров;
* ![](../../images/icons/toolbar-controls/edit_default.svg) **Настроить** — открывает диалог редактирования [параметров поля](../../processors/transformation/fields-parameters.md), диалог также можно открыть двойным кликом по выбранному полю;
* ![](../../images/icons/toolbar-controls/moveup_default.svg) ![](../../images/icons/toolbar-controls/movedown_default.svg) **Переместить вверх/вниз** — изменяет позицию выделенного поля в списке (поля в исходящей с порта таблице будут расположены слева направо в том же порядке, в каком они расположены в списке сверху вниз);
* ![](../../images/icons/toolbar-controls/sync-columns_default.svg) **Map fields**: the list of the output fields/variables of the port is mapped with the list of the input ones (more detailed information on the mapping algorithm is provided in [автоматическая синхронизация полей](./field-synchronization.md));
* ![](../../images/icons/toolbar-controls/auto-sync-columns_default.svg) **Автоматическая синхронизация** — при включении данного режима команда  ![](../../images/icons/toolbar-controls/sync-columns_default.svg) Синхронизировать поля будет выполняться автоматически при выполнении узла;
* ![](../../images/icons/toolbar-controls/delete-all_default.svg) **Удалить все...** — список "Выходные" очищается;
* ![](../../images/icons/toolbar-controls/delete_default.svg) **Удалить** — удаляет выделенную позицию в списке "Выходные", иконка этой команды высвечивается при наведении курсора на эту позицию.

Описание дополнительных команд мастера:

* ![](../../images/icons/toolbar-controls/auto-connect_default.svg) **Связать автоматически** — предпринимается попытка установить связи между выходным и входным списком полей/переменных. Список входных/выходных полей/переменных не изменяется (новые поля не добавляются). Могут быть добавлены новые связи. Если какие-то связи уже есть, то они остаются без изменения. Алгоритм создания связей пытается связать выходные поля/переменные, у которых нет связи, с входными, у которых нет связи:
   * сначала по признаку: "совместим [тип данных](../../data/compatibility.md) и совпадает имя (без учета регистра)";
   * затем по признаку: "совместим тип данных и совпадает метка (без учета регистра)".
* ![](../../images/icons/toolbar-controls/remove-all-links_default.svg) **Удалить все связи** — удаляет все имеющиеся связи.
* ![](../../images/icons/toolbar-controls/order-links_default.svg) **Упорядочить связи** — пересортировывает поля списков для устранения пересечений связей друг с другом.
* ![](../../images/icons/toolbar-controls/help_default.svg) **Отображать потерянные связи** — отображаются отсутствующие поля входного набора порта, с которыми ранее были настроены связи с существующими полями выходного набора. Такая ситуация может возникнуть при изменении структуры входных данных.

При необходимости настроить несколько позиций одновременно, их можно выделить следующими способами:

* Зажать клавишу CTRL и выделить их по одному кликами левой кнопки мыши; повторное нажатие по полю снимает выделение;
* Сделать клик по одному полю, зажать клавишу SHIFT, затем клик по другому полю — в результате будет выделен список позиций между этими полями.

Оба способа можно применять последовательно: например, сначала выбрать список через SHIFT, а потом зажать CTRL и убрать некоторые поля из списка или выделить другие.
