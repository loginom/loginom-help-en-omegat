---
description: Компонент JavaScript в Loginom. Описание. Программирование на JavaScript. Мастер настройки.
---

# ![](./../../../images/icons/components/javascript_default.svg) JavaScript

## Описание

Узел создает новый набор данных с заданным составом и параметрами полей и заполняет его данными в ходе выполнения кода JavaScript. Для заполнения выходного набора в коде возможно использование данных входных портов.
Состав и параметры полей выходного набора могут задаваться как в мастере настройки узла, так и из кода JavaScript.

### Вход

* ![](./../../../images/icons/app/node/ports/outputs/table_inactive.svg) Входной источник данных (таблица данных), необязательный;
* ![](./../../../images/icons/app/node/ports/add/add_inactive_default.svg) Добавить еще один порт – создает новый порт Входной источник данных[N], где N – порядковый номер порта;
* ![](./../../../images/icons/app/node/ports/inputs-optional/variable_inactive.svg) Входные переменные (переменные), необязательный.

### Выход

* ![](./../../../images/icons/app/node/ports/outputs/table_inactive.svg) Выходной набор данных (таблица данных).

## Мастер настройки

Последовательно выполняются следующие этапы настройки:

* Настройка столбцов выходной таблицы;
* JavaScript.

### Настройка столбцов выходной таблицы

Столбцы выходного набора можно задать как на странице *Настройка столбцов выходной таблицы JavaScript* мастера, так и динамически, в ходе исполнения кода JavaScript. При установке флага *Разрешить формировать выходные столбцы из кода* доступно динамическое создание, изменение и удаление выходных столбцов.

> **Примечание:** Динамическое создание, изменение и удаление выходных столбцов возможно в коде до момента добавления первой записи в выходной набор, т.е. до первого вызова [метода Append()](./output-table.md#metody-outputtable) объекта `OutputTable`.

### JavaScript

Страница *JavaScript* содержит редактор исполняемого узлом кода. По кнопке [Предпросмотр…](./../../../visualization/preview/preview.md) в отдельном окне выводится до 100 первых строк результирующего набора данных и [консоль отладки кода](./console.md).

> **Примечание:** При нажатии на кнопку *Предпросмотра* активируются все входные порты. При успешном завершении активации открывается окно *Предпросмотра*.

Поддерживается [импорт внешних модулей JS](./external-modules.md).

См. также: [Горячие клавиши редактора кода](./hotkeys.md)

## Доступ из кода JavaScript к данным портов и другим встроенным объектам

Для доступа к данным портов и другим встроенным объектам в контексте выполнения JavaScript-кода предусмотрены следующие объекты:

* [Входные наборы данных](./input-tables.md) (`InputTables`, `InputTable`);
* [Входные переменные](./input-variables.md) (`InputVariables`);
* [Выходной набор данных](./output-table.md) (`OutputTable`);
* [Необходимые перечисления](./enum.md) (`DataType`, `DataKind`, `UsageType`).

Вышеуказанные объекты импортируются из встроенного модуля `"builtIn/Data"`. По умолчанию в текст исполняемого узлом кода добавляется строка импорта этих объектов.

В контексте выполнения JavaScript-кода доступны функции *Калькулятора*, которые импортируются из [встроенного модуля `"builtIn/Calc"`](./calc-functions.md).

## Fetch API

В контексте выполнения JavaScript-кода доступны объекты интерфейса [Fetch API](./fetch-api.md), предназначенные для работы с HTTP-запросами и ответами. Перед использованием объекты должны быть импортированы из встроенного модуля `"builtIn/Fetch"`.

## File Storage API

В контексте выполнения JavaScript-кода доступны объекты интерфейса [File Storage API](./fileapi.md), предназначенные для работы с файловой системой. Перед использованием объекты должны быть импортированы из встроенного модуля `"builtIn/FS"`.

## Обработка ошибок

При вызове окна *Предпросмотра* или выполнении узла выводится сообщение об обнаруженных синтаксических ошибках и ошибках хода выполнения с указанием позиции кода, содержащего ошибку.

> **Важно:** Неперехваченные ошибки в [Promise](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Promise) записываются в лог сервера, при этом узел выполняется без сообщений об ошибке.
