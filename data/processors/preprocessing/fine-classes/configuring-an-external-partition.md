# Configure External Binning

Данная настройка необходима в том случае, когда задан порт Внешние диапазоны квантования, т.е. в узел Конечные классы подается внешнее разбиение в виде таблицы. Если входной источник данных содержит настройки разбиения для данного столбца, то в мастере для него выбирается назначение "Входное (внешнее разбиение)". В таком случае разбиение берется из таблицы, а не рассчитывается алгоритмом на основе текущих данных.

## Требования к внешнему разбиению

Для использования внешнего разбиения, таблица должна быть сформирована определенным образом:

* Для непрерывных данных строка внешнего разбиения соответствует одному классу (интервалу) для значений поля основного источника данных.

* Для дискретных данных строка внешнего разбиения соответствует одному уникальному значению поля основного источника данных.

В таблице представлено описание столбцов, которые должны содержаться во внешнем разбиении для непрерывного и дискретного разбиения соответственно:

| Column usage type | Имя столбца для автонастройки | Data type | Для непрерывного разбиения | Для дискретного разбиения | Description |
| -------- | -------- | -------- | -------- | -------- | -------- |
| Column name | ColumnName | String | + | + | Имя поля основного источника данных, к которому относится внешнее разбиение. Т.е. по значению текущего столбца отбираются строки, которые определяют внешнее разбиение для поля основного источника данных. |
| Upper bound | UpperBound | Real/integer | + | - | Строго возрастающая последовательность границ разбиения. При этом число классов рассчитывается на 1 больше, т.к. учитывается класс, включающий значения выше последней границы. |
| Верхняя граница открыта | IncludeUpperBound | Binary | + | - | Строго постоянное в рамках разбиения одного поля значение, определяющее тип верхней границы диапазона класса - открытая (не включается) или закрытая (включается) |
| Unique value | UniqueValue | Any (valid) | - | + | Уникальные значения поля основного источника данных, которым соответствует внешнее разбиение |
| Class number | ClassNumber | Integer | - | + | Номер класса, соответствующий уникальному значению |

### Пример таблицы внешнего разбиения

Непрерывное разбиение

| Column name | Upper bound | Верхняя граница включена |
| -------- | -------- | -------- |
| COL2 | 3728129 | False |
| COL2 | 7934343 | False |
| COL2 | 10533052 | False |
| COL2 | 30721946 | False |
| COL2 | 36494956 | False |
| COL2 | 39509806 | False |
| COL8 | 490,01 | False |
| COL8 | 2308,07 | False |
| COL8 | 5981,98 | False |
| COL8 | 6600,01 | False |
| COL8 | 10050,99 | False |
| COL8 | 14870 | False |

Дискретное разбиение

|Имя столбца|Номер класса|Уникальное значение|
|-|-|-|
|COL4|0|жен|
|COL4|1|муж|
|COL4|2|NULL|
|COL4|2||
|COL6|0|Бронзовый|
|COL6|1|Серебряный|
|COL6|2|Золотой|
|COL6|2|Платиновый|