# ![ ](../../images/icons/components/coarseclasses_default.svg) Конечные классы

## Description

Обработчик Конечные классы предназначен для решения следующих задач:

* Преобразование непрерывных и дискретных входных полей, используемых для построения моделей [бинарной классификации](https://wiki.loginom.ru/articles/binary-classification.html), путем квантования на основе метода совокупности доказательств или [WoE-анализа](https://wiki.loginom.ru/articles/coefficient-woe.html) (weights of evidence, WoE). В результате каждое исходное значение признака заменяется на метку интервала квантования, в который данное значение попало. Использование результатов такого преобразования для построения моделей бинарной классификации (например, [логистической регрессии](https://wiki.loginom.ru/articles/logistic-regression.html)), позволяет повысить их точность и устойчивость к изменению входных данных.
* Сокращение размерности данных за счет исключения признаков с низкой значимостью, снижения разнообразия значений признаков.
* Восстановление пропусков, когда пропуски образуют отдельную метку интервала квантования или объединяются с соседним, близким по значению WoE-индекса.
* Борьба с выбросами и экстремальными значениями — формирование меток интервала квантования при дискретизации непрерывного поля или объединение редких уникальных значений в одну категорию позволяет решить проблему экстремальных значений и выбросов.
* Упрощение описания исследуемых объектов.

Результатом работы обработчика Конечные классы является преобразование входных столбцов в последовательность интервалов, называемых конечными классами, каждому из которых присваивается определенная метка. Кроме этого, для каждого входного столбца может быть вычислен уровень значимости (отсутствует, очень низкая, низкая, средняя, высокая и очень высокая), на основе которого может производиться отбор переменных в модели бинарной классификации.

### Input

* ![ ](../../images/icons/app/node/ports/inputs/table_inactive.svg) Input data source (data table).
* ![ ](../../images/icons/app/node/ports/add/add_inactive_default.svg) Добавить еще один порт. Внешние диапазоны квантования (таблица данных).

### Output

* ![ ](../../images/icons/app/node/ports/outputs/table_inactive.svg) Output data set (data table).

%spoiler%Структура данных:%spoiler%

* ![ ](../../images/icons/data-types/none_default.svg) **Поля исходного набора данных** (значения не изменяются).
* ![ ](../../images/icons/data-types/integer_default.svg) **Поле «<Метка столбца> Номер класса»** – идентификатор конечного класса, целое число (начиная с 0) – столбец создается всегда.
* ![ ](../../images/icons/data-types/string_default.svg) **Поле «<Метка столбца> Метка»** – метка конечного класса, полученная автоматическим путем (числовые границы, если это непрерывная переменная, или перечисление уникальных значений через «;», если переменная дискретная).
* ![ ](../../images/icons/data-types/float_default.svg) **Поле «<Метка столбца> Значимость».**

%/spoiler%

* ![ ](../../images/icons/app/node/ports/inputs/table_inactive.svg) Параметры классов (таблица данных).

%spoiler%Структура данных:%spoiler%

* ![ ](../../images/icons/data-types/integer_default.svg) **Группа** – номер группы, к которой относится запись в таблице. Каждая группа записей ассоциирована с признаком (полем) исходного набора данных, являющимся входным для узла Конечные классы. Количество записей в группе соответствует числу конечных классов исходного столбца.
* ![ ](../../images/icons/data-types/string_default.svg) **Идентификатор** – имя столбца, под которым он будет обрабатываться в наборе данных. Число столбцов равно числу входных полей узла Конечные классы.
* ![ ](../../images/icons/data-types/string_default.svg) **Метка столбца** – мнемоническое обозначение входного столбца, под которым он будет виден пользователю в базе или хранилище данных. По умолчанию устанавливается название, под которым данный столбец виден в исходном наборе данных.
* ![ ](../../images/icons/data-types/integer_default.svg) **Номер класса** – порядковый номер, присвоенный классу при его формировании в узле Конечные классы.
* ![ ](../../images/icons/data-types/string_default.svg) **Уник.значение** – для дискретных полей отображает их уникальные значения.
* ![ ](../../images/icons/data-types/string_default.svg) **Метка класса** – идентификатор класса, присвоенный ему при формировании в узле конечные классы. Для числовых столбцов метка класса состоит из верхней и нижней границ класса (для нулевого класса указывается только нижняя граница с предлогом «от…», для класса с максимальным номером указывается верхняя граница с предлогом «до…»). Для категориальных полей, если каждый класс формируется для отдельной категории, то в качестве метки указывается эта категория. Если класс включает несколько категорий, то в метке перечисляются все категории, вошедшие в класс.
* ![ ](../../images/icons/data-types/integer_default.svg) **Число событий** – количество наблюдений в классе, для которых выходное значение – событие.
* ![ ](../../images/icons/data-types/integer_default.svg) **Число не-событий** – количество наблюдений в классе, для которых выходное значение – не-событие.
* ![ ](../../images/icons/data-types/variant_default.svg) **Нижняя граница** – для числовых признаков указывается нижняя граница интервала числом. Для категориальных признаков нижняя граница обозначается двумя категориями – верхней категорией предыдущего класса и нижней категорией текущего.
* ![ ](../../images/icons/data-types/variant_default.svg) **Верхняя граница** – для числовых признаков указывается верхняя граница интервала числом. Для категориальных признаков верхняя граница обозначается двумя категориями – нижней категорией следующего класса и верхней категорией текущего.
* ![ ](../../images/icons/data-types/float_default.svg) **Вес доказательства** – [коэффициент WoE](https://wiki.loginom.ru/articles/coefficient-woe.html) для каждого класса.
* ![ ](../../images/icons/data-types/float_default.svg) **Информационный индекс** – указываются значения информационных [индексов IV](https://wiki.loginom.ru/articles/coefficient-iv.html), вычисленные по каждому входному столбцу. Сумма частных информационных индексов по каждому классу дает общий информационный индекс признака, по которому определяется его значимость.
* ![ ](../../images/icons/data-types/float_default.svg) **Доля класса** – отношение количества наблюдений в классе к общему числу наблюдений.
* ![ ](../../images/icons/data-types/boolean_default.svg) **Верхняя граница диапазонов открыта**.
* ![ ](../../images/icons/data-types/boolean_default.svg) **Предквантование** – показывает применялось ли предквантование в процессе формирования конечных классов.

%/spoiler%

* ![ ](../../images/icons/app/node/ports/inputs/table_inactive.svg) Значимости столбцов (таблица данных).

%spoiler%Структура данных:%spoiler%

* ![ ](../../images/icons/data-types/string_default.svg) **Имя столбца** – идентификатор столбца, под которым он будет обрабатываться в наборе данных. Число столбцов равно числу входных полей узла Конечные классы.
* ![ ](../../images/icons/data-types/string_default.svg) **Метка столбца** – мнемоническое обозначение входного столбца, под которым он будет виден пользователю в базе или хранилище данных. По умолчанию устанавливается название, под которым данный столбец виден в исходном наборе данных.
* ![ ](../../images/icons/data-types/integer_default.svg) **Число событий** – количество событий, попавших в данный класс.
* ![ ](../../images/icons/data-types/integer_default.svg) **Число не-событий** – количество не-событий, попавших в данный класс.
* ![ ](../../images/icons/data-types/integer_default.svg) **Всего** – общее число наблюдений в классе.
* ![ ](../../images/icons/data-types/float_default.svg) **Информационный индекс** – указываются значения информационных [индексов IV](https://wiki.loginom.ru/articles/coefficient-iv.html), вычисленные по каждому входному столбцу.
* ![ ](../../images/icons/data-types/string_default.svg) **Значимость столбца** – уровень значимости входного столбца, определенный на основе информационного индекса. Может принимать значения: отсутствует, очень низкая, низкая, средняя, высокая и очень высокая.

%/spoiler%

## Wizard

Мастер настройки состоит из следующих шагов:

* **[Настройка внешнего разбиения](./fine-classes/configuring-an-external-partition.md)** — появляется, если задан порт *Внешние диапазоны квантования*. Позволяет настроить параметры заранее настроенного внешнего разбиения.

* **[Настройка назначений столбцов](./fine-classes/configure-column-assignments.md)** — позволяет задать назначение столбцам, настройки входного и выходного полей, внешнего разбиения, а также настройки алгоритма для формирования конечных классов входных полей.

* **[Настройка конечных классов](./fine-classes/configuring-the-finite-classes.md)** — позволяет просматривать начальные классы и результаты формирования конечных классов. Предназначена для внесения ручной корректировки в границы (или множества) сформированных конечных классов с целью достижения лучших результатов.
