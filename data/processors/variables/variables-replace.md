# ![Замена-переменные](../../images/icons/components/replace-variables_default.svg) Замена (переменные)

Обработчик заменяет входные переменные, используя таблицы замен. Таблицы замен содержат пары заменяемых и новых значений или вычисляющие их регулярные выражения.

Последовательность действий алгоритма замены:

1. В первую очередь производится поиск и замена по [точному совпадению](../transformation/substitution/exact-match.md#zamena-po-tochnomu-sovpadeniyu) со значениями, указанными в таблице замен.
1. Среди значений, не найденных по точному совпадению, производится поиск по [регулярным выражениям](../transformation/substitution/regexp-match.md). Такие выражения могут быть заданы в таблицах замен. Новые значения также вычисляются регулярными выражениями.
1. Выполняются правила замены для значений, не найденных на предыдущих шагах.

## Ports

### Вход

* ![Входные переменные](../../images/icons/app/node/ports/inputs-optional/variable_inactive.svg) **Входные переменные** — переменные, подлежащие изменению.

### Выход

* ![Выходные переменные](../../images/icons/app/node/ports/outputs/variable_inactive.svg) **Выходные переменные** — переменные после обработки.

## Wizard

Окно мастера настройки состоит из трех областей.

### Список замен

Отображает входные переменные и способ замены для каждой переменной:

* **не заменять** — замены производиться не будут;
* **ввод вручную** — использовать таблицу замен.

### Таблица замен

Область отображает таблицу замен для выбранной переменной.

Для ввода новой строки в таблице замены используется кнопка ![добавить](../../images/icons/toolbar-controls/plus_default.svg). Таблица может содержать строки для поиска и замены по:

* **точному совпадению**;
* **регулярному выражению**.

При вводе таблицы замены доступен ряд действий через панель инструментов области:

* ![Импорт](../../images/icons/toolbar-controls/import_default.svg) **Импорт** – считывает таблицу замен из указанного [текстового файла заданного формата](../transformation/substitution/import-tz.md). Считанные данные заменят те, которые уже были в таблице. Изменения, производимые в дальнейшем с таблицей замен или файлом, не отражаются друг на друге.
* ![Экспорт](../../images/icons/toolbar-controls/export_default.svg) **Экспорт** — сохраняет таблицу замен в указанный текстовый файл.
* ![Сортировать](../../images/icons/toolbar-controls/sort-asc_default.svg) **Сортировать** — сортировка таблицы по полю исходного значения.
* **Изменить тип замены** — позволяет изменить [тип данных](../../data/datatype.md) переменной после произведенной замены. Например, вещественную переменную можно заменить целочисленной или строковой. При этом, если замена не будет произведена, то тип не поменяется (за исключением / кроме случая замены вещественного числа на целочисленное).
* ![Редактировать текущую замену](../../images/icons/toolbar-controls/edit_default.svg) **Редактировать** — отображает область редактирования текущей строки таблицы подстановок.
* ![Получить значения](../../images/icons/toolbar-controls/load-values_default.svg) **Получить значения** — не доступно для переменных.

### Дополнительные параметры

* **Заменять остальные** — содержит варианты замены значений, не найденных при помощи таблицы замен:
   * **не заменять** — замены производиться не будут.
   * **на пропущенное** — значения будут заменены на "NULL".
   * **на значение** — значения будут заменены на указанное.
   * **на регулярное выражение** — новое значение будет вычислено с использованием [синтаксиса регулярного выражения](../transformation/substitution/regexp-match.md).

* **Точность** — для полей целого и вещественного типов задает допустимый интервал от указанных в таблицах замен значений, при котором исходное значение будет заменено. [Применение допустимого интервала](../transformation/substitution/exact-match.md#primenenie-dopustimogo-intervala).
* **Регистрозависимые строки** — флаг устанавливает регистрозависимый режим поиска значений в таблицах замен. По умолчанию данный режим отключен.
