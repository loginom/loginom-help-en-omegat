# ![Таблица в переменные](../../images/icons/components/datatovariables_default.svg) Таблица в переменные

Обработчик позволяет преобразовать табличные данные в переменные. Из данных каждого поля таблицы формируется переменная. У переменной может быть только одно значение, поэтому для его расчета к данным поля применяются различные [функции агрегации](../func/aggregation-functions.md).

## Порты

### Вход

* ![Входной источник данных](../../images/icons/app/node/ports/inputs/table_inactive.svg) **Входной источник данных** — таблица данных.

### Выход

* ![Выходные переменные](../../images/icons/app/node/ports/outputs/variable_inactive.svg) **Выходные переменные** — список переменных, полученный из входного источника данных с использованием функций агрегации по полю.

## Мастер настройки

Окно мастера поделено на две области:

* **Доступные поля** — представляет список полей входного набора данных;
* **Выбранные поля** — представляет список результирующих переменных.

Перемещение полей между областями возможно с помощью Drag-and-Drop.

### Доступные поля

Добавить выделенные поля в список *Выбранные поля* можно:

* Кнопкой ![Переместить в Переменные](../../images/icons/dataset-operations/dsa-factor_default.svg);
* Через контекстное меню "Переместить в Переменные";
* Нажав %kbd Alt S %.

### Выбранные поля

При добавлении поля в список *Выбранные поля* функция агрегации будет назначена по-умолчанию:

* для чисел будет выбрана функция *сумма*;
* для остальных — функция *количество*.

Действия над выбранными полями можно осуществлять мышью. Перетаскиванием внутри списка можно менять позицию в выделенных полей. Исключить можно с помощью переноса полей в список *Доступные поля*. Двойной клик по полю открывает окно "Выбора агрегации".

Эти же действия выполняют кнопки на панели быстрого доступа:

* ![Переместить вверх](../../images/icons/toolbar-controls/moveup_default.svg) — перемещает выделенный элемент вверх по списку;
* ![Переместить вниз](../../images/icons/toolbar-controls/movedown_default.svg) — перемещает выделенный элемент вниз по списку;
* ![Редактировать](../../images/icons/toolbar-controls/edit_default.svg) — для выделенных полей открывает окно выбора доступных вариантов агрегации;
* ![Удалить](../../images/icons/toolbar-controls/delete_default.svg) — перемещает текущий элемент в список *Доступные поля*;
* ![Удалить все](../../images/icons/toolbar-controls/delete-all_default.svg) — перемещает все элементы в список *Доступные поля*.

Контекстное меню дублирует общие функции:

* ![Переместить вверх](../../images/icons/toolbar-controls/moveup_default.svg) **Переместить вверх** — перемещает выделенные поля вверх по списку;
* ![Переместить вниз](../../images/icons/toolbar-controls/movedown_default.svg) **Переместить вниз** — перемещает выделенные поля вниз по списку;
* ![Редактировать](../../images/icons/toolbar-controls/edit_default.svg) **Редактировать** — для выделенных полей открывает окно выбора доступных вариантов агрегации;
* ![Удалить выбранные](../../images/icons/toolbar-controls/delete_default.svg) **Удалить выбранные** — перемещает выделенные поля обратно в список *Доступные поля*.

Доступны горячие клавиши, дублирующие перечисленные команды:

* %kbd Ctrl Up % — Переместить вверх;
* %kbd Ctrl Down % — Переместить вниз;
* %kbd F2 % — Редактировать;
* %kbd Delete % — Удалить выбранные.

## Содержание выходного набора

В выходном наборе будут переменные, полученные из полей с помощью выбранных функций агрегации. Каждому варианту агрегации на выходе будет соответствовать отдельная переменная.

Имена, метки и значения переменных будут получены следующим образом:

* **Имя** — будет совпадать с именем поля, если была выбрана лишь одна функция. Если функций было больше одной, то к имени добавится окончание, соответствующее выбранной функции.
* **Метка** — будет состоять из имени поля и названии функции агрегации.
* **Значение** — формируется из всех значений поля, агрегированных выбранной функцией.
