# ![](../../images/icons/components/coluniondata_default.svg) Соединение

С помощью обработчика *Соединение* исходный набор данных дополняется полями присоединяемых наборов. При этом каждая запись исходного набора соединяется с записью такого же порядкового номера дополнительного набора.

Если соединяемые наборы данных имеют разное количество записей, то результирующий набор может содержать пустые значения. Мастер настройки предлагает различные варианты обработки данной ситуации. Соединяемые наборы могут обрезаться до количества записей меньшего набора или дополняться до наибольшего.

К исходному набору можно присоединять переменные. Каждая из присоединяемых переменных добавляет новый столбец к исходному набору. При этом в зависимости от настроек параметра *Дополнение до наибольшего набора* значение присоединенной переменной будет добавлено:
* во все строки нового столбца;
* только в первую строку, а в остальных строках для полей строкового и переменного типа будет выведено значение null, для полей остальных типов данных -  пустая ячейка.

### Вход

* ![](../../images/icons/app/node/ports/inputs/table_inactive.svg) **Главная таблица** — порт для входного набора данных.
* ![](../../images/icons/toolbar-controls/plus-native_default.svg) **Добавить еще один порт** — создает новые порты входа для присоединяемых таблиц и переменных. Новые порты могут быть двух типов:
   * ![](../../images/icons/app/node/ports/inputs/table_inactive.svg) Присоединяемая таблица [N], где N порядковый номер таблицы;
   * ![](../../images/icons/app/node/ports/inputs/variable_inactive.svg) Присоединяемые переменные [N], где N порядковый номер порта переменных.

### Выход

* ![Выходной набор данных](../../images/icons/app/node/ports/inputs/table_inactive.svg) **Выходной набор данных** — таблица с присоединенными столбцами.

## Wizard

Для настройки доступны следующие параметры:

* **Дополнение до наибольшего набора** — предлагается выбрать один из вариантов дополнения наименьших по количеству записей таблиц:
   * **Не дополнять** — дополнение записями, поля которых будут содержать пустые значения;
   * **Повторять набор** — таблицы дополнятся копиями своих же записей, начиная с первой;
   * **Дополнять последней строчкой** — дополнение копиями последней строки.
* **Количество строк соответствует** — предлагается выбрать один из вариантов определения количества записей результирующего набора данных:
   * по **Минимальному набору**;
   * по **Максимальному набору**;
   * **Определяется набором** - при выборе данного варианта становится доступен список *Набор данных, определяющий набор строк*, в нем необходимо выбрать набор, в соответствии с которым будет определяться количество строк результирующего набора.

%spoiler%Пример:%spoiler%

Для примера возьмем две таблицы.

Главная таблица:

|ФИО|Год рождения|
|:-|:-|
|Абрамов|1972 г.|
|Авдеева|1956 г.|
|Агафонов|1978 г.|
|Аксёнова|1979 г.|
|Александров|1980 г.|
|Алексеев|1983 г.|
|Андреева|1982 г.|
|Анисимов|1963 г.|
|Антонов|1984 г.|
|Артемьев|1965 г.|

Присоединяемая таблица:

|КТУ|Кластер|
|:-|-:|
|> 0.8|1|
|> 0.8|1|
|0.5 - 0.8|2|
|0.5 - 0.8|2|
|0.2 - 0.5|3|
|< 0.2|4|

Параметр *Дополнение до наибольшего набора* выставлен в значение *Не дополнять*, параметр *Количество строк соответствует* — в значение *Максимальному набору*.

Результирующая таблица:

|ФИО|Год рождения|КТУ|Кластер|
|:-|:-|:-|-:|
|Абрамов|1972 г.|> 0.8|1|
|Авдеева|1956 г.|> 0.8|1|
|Агафонов|1978 г.|0.5 - 0.8|2|
|Аксёнова|1979 г.|0.5 - 0.8|2|
|Александров|1980 г.|0.2 - 0.5|3|
|Алексеев|1983 г.|< 0.2|4|
|Андреева|1982 г.|&#60;null>|&#60;null>|
|Анисимов|1963 г.|&#60;null>|&#60;null>|
|Антонов|1984 г.|&#60;null>|&#60;null>|
|Артемьев|1965 г.|&#60;null>|&#60;null>|
%/spoiler%