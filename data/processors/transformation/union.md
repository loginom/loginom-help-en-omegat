# ![Объединение](../../images/icons/components/union_default.svg) Объединение

С помощью обработчика Объединение исходный набор данных дополняется записями присоединяемых наборов. Объединение является аналогом операции `UNION` в SQL.

%spoiler%Example:%spoiler%

Source table:

|ФИО|Год|
|:-|:-|
|Андреева|1982 г.|
|Анисомов|1963 г.|
|Антонов|1984 г.|
|Артемьев|1965 г.|

Joined table:

|ФИО|Год|КТУ|Кластер|
|:-|:-|:-|-:|
|Абрамов|1972 г.|\> 0.8|1|
|Авдеева|1956 г.|\> 0.8|1|
|Агафонов|1978 г.|0.5 - 0.8|2|
|Аксёнова|1979 г.|0.5 - 0.8|2|
|Александров|1980 г.|0.2 - 0.5|3|
|Алексеев|1983 г.|< 0.2|4|

Resulting table:

|ФИО|Год|КТУ|Кластер|
|:-|:-|:-|-:|
|Андреева|1982 г.|null|null|
|Анисомов|1963 г.|null|null|
|Антонов|1984 г.|null|null|
|Артемьев|1965 г.|null|null|
|Абрамов|1972 г.|\> 0.8|1|
|Авдеева|1956 г.|\> 0.8|1|
|Агафонов|1978 г.|0.5 - 0.8|2|
|Аксёнова|1979 г.|0.5 - 0.8|2|
|Александров|1980 г.|0.2 - 0.5|3|
|Алексеев|1983 г.|< 0.2|4|

%/spoiler%

### Input

* ![Главная таблица](../../images/icons/app/node/ports/inputs/table_inactive.svg) **Главная таблица** — первая таблица участвующая в объединении;
* ![Присоединяемая таблица](../../images/icons/app/node/ports/inputs/table_inactive.svg) **Присоединяемая таблица** — вторая таблица участвующая в объединении, все последующие таблицы добавляются через *Добавить еще один порт*;
* ![Add port](../../images/icons/toolbar-controls/plus-native_default.svg) **Add another port** enables to create new ports for the subsequemt joined tables that will be automatically numbered.

### Output

* ![Выходной набор данных](../../images/icons/app/node/ports/inputs/table_inactive.svg) **Выходной набор данных** — таблица, содержащая поля всех таблиц, поданных на входные порты, кроме полей присоединяемых таблиц, выбранных в качестве сопоставляемых. Выбранные поля объединяются и присоединяются к набору данных согласно проставленному сопоставлению. Поля без сопоставления дополняют набор данных. По желанию к меткам дополненных полей можно добавить префиксы.

## Wizard

Полям главной таблицы необходимо сопоставить поля присоединяемой таблицы. В результирующем наборе данные сопоставленных полей объединяются в одно поле. Это поле получает *Имя* и *Метку* поля главной таблицы. Данные не сопоставленных полей помещаются в отдельные столбцы результирующего набора, которые можно отметить префиксами.

Сопоставление возможно только для полей с одинаковым типом данных. При первоначальном открытии мастера поля с одинаковым именем и типом данных сопоставляются автоматически. Ручная настройка осуществляется с помощью элементов управления:

* **Область настройки сопоставления** — представляет таблицу где слева представлены поля *Главной таблицы*, а справа *Подключаемые таблицы*, отмечаемые чекбоксами и выпадающими списками. Обозначение *Подключаемых таблиц* идет таким образом: *Подключаемая таблица*, *Подключаемая таблица 2* ... *Подключаемая таблица N*.
   * **Чекбокс** — в этих столбцах у *Подключаемых таблиц* флажком отмечаются поля участвующие в сопоставлении.
   * **Раскрывающиеся списки полей** — содержатся в каждой строке таблицы сопоставления. Список позволяет выбрать поле присоединяемой таблицы, которое будет сопоставлено полю главной таблицы. С помощью переключателя ![Фильтр](../../images/icons/filter-switcher/filterswitch-on_default.svg) можно изменить способ отображения полей: общим списком или только поля, которые еще не выбраны.
* **Использовать префиксы** — применяется, если необходимо выделить не сопоставленные столбцы присоединяемых таблиц. Для таких столбцов в результирующем наборе данных можно задать.
   * **Префикс имени** — в это поле вводится префикс добавляемый к имени не сопоставленных полей таблиц, состав именного префикса следует правилу [Параметров полей набора данных](../../data/datasetfieldoptions.md).
   * **Префикс метки** — в это поле вводится префикс добавляемый к метке не сопоставленных полей таблиц, именуется согласно *Параметрам полей набора данных*.


В области настройки объединения предусмотрена возможность сортировки полей таблиц. Для этого необходимо щелкнуть мышью по заголовку таблицы (Главная таблица или Присоединяемая таблица). Аналогичным образом можно сортировать записи по индексу поля в таблице (№).
