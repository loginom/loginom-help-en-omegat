# ![Дополнение данных](../../images/icons/components/enrich-data_default.svg) Дополнение данных

Соединение таблиц данных на основе связи по ключевым полям — аналог операции `LEFT JOIN` в SQL. Узел выполняет действие аналогичное [Левому соединению](./join/left.md) узла [Соединение](./join/README.md), но количество присоединяемых таблиц произвольно.

## Ports

### Input

* ![Главная таблица](../../images/icons/app/node/ports/inputs/table_inactive.svg) **Главная таблица** — в контексте понятий языка SQL-запросов является левой таблицей для соединения;
* ![Присоединяемая таблица](../../images/icons/app/node/ports/inputs/table_inactive.svg) **Присоединяемая таблица** — в контексте понятий языка SQL-запросов является правой таблицей для соединения;
* ![Добавить порт](../../images/icons/toolbar-controls/plus-native_default.svg) **Добавить еще один порт** — создает новые порты входа для последующих присоединяемых таблиц, которые будут автоматически пронумерованы.

### Output

* ![Выходной набор данных](../../images/icons/app/node/ports/inputs/table_inactive.svg) **Выходной набор данных** — таблица, содержащая поля всех таблиц, поданных на входные порты, кроме полей присоединяемых таблиц, выбранных в качестве ключевых. По желанию к меткам полей присоединяемых таблиц можно добавить префиксы.

## Wizard

* **Область настройки ключевых полей** — напротив поля главной таблицы, которое должно стать ключевым, следует выставить флаг в столбце присоединяемой таблицы. Из выпадающего списка необходимо выбрать поле, по которому таблицы будут связываться. При включенной фильтрации ![Включенная фильтрация](../../images/icons/filter-switcher/filter-switcher-filterswitch-off_default.svg) доступны совместимые поля, которые еще не связаны с ключевыми полями главной таблицы, при отключенной фильтрации ![Выключенная фильтрация](../../images/icons/filter-switcher/filter-switcher-filterswitch-on_default.svg) можно выбрать любое из полей, совместимых по типу.
* **Использовать префиксы** — включение данного флага позволяет добавить в результирующей таблице префиксы к именам и меткам полей, взятых из присоединяемых таблиц.
   * **Префикс имени** — в это поле вводится префикс добавляемый к имени присоединенных полей таблиц, состав именного префикса следует правилу [Параметров полей набора данных](../../data/datasetfieldoptions.md).
   * **Префикс метки** — в это поле вводится префикс добавляемый к метке присоединенных полей таблиц, именуется согласно *Параметрам полей набора данных*.

For example:

Для примера возьмем три таблицы. Персона - главная таблица, и две присоединяемых: Город и Регион.

Main table:

|Имя|Id города|
|:-|-:|
|Андрей|1|
|Леонид|2|
|Сергей|1|
|Григорий|4|

Joined table:

|Id|Город|
|-:|:-|
|1|Москва|
|2|Санкт-Петербург|
|3|Казань|

Присоединяемая таблица 2:

|Id города|Регион|
|-:|:-|
|1|Центральный|
|2|Северо-западный|
|3|Приволжский|
|4|Дальневосточный|

![Порядок связей при присоединении.](./supplementation.svg)

Resulting table:

|Имя|Id города|Город|Регион|
|:-|-:|:-|:-|
|Андрей|1|Москва|Центральный|
|Леонид|2|Санкт-Петербург|Северо-западный|
|Сергей|1|Москва|Центральный|
|Григорий|4|&#60;null>|Дальневосточный|
