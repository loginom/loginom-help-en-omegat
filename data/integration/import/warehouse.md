# ![Импорт из ХД](../../images/icons/data-sources/wh-datawarehouse-import_default.svg) Импорт из Deductor Warehouse

Компонент предназначен для импорта набора данных из Хранилища данных [Deductor Warehouse](../../data-format/data-warehouse.md) (далее — Хранилище данных).

> **Важно:** Для работы узла требуется предварительно создать [Подключение](../connections/README.md) к *Хранилищу данных* и связать его с входным портом *Подключение*.

## Ports

### Input Ports

* ![Порт подключений](../../images/icons/app/node/ports/inputs/link_inactive.svg) **Подключение** — принимает параметры подключения к Хранилищу данных;

### Output Ports

* ![Выходной порт таблицы](../../images/icons/app/node/ports/inputs/table_inactive.svg) **Набор данных** — Импортированные из хранилища данные.

## Wizard

Позволяет настроить импорт интересуемых данных из Хранилища данных.

### Step 1. Выбор объекта хранилища данных

* **Подключение** — отображает строку подключения к источнику данных. Не доступна для редактирования.
* **Активировать** — позволяет установить связь с Хранилищем данных, если это еще не было сделано. После установления связи кнопка перестает быть активной, а название меняется на *Активировано*.
* **Объекты хранилища данных** — содержит древовидный список ![Процессы](../../images/icons/data-warehouse/fact-tables-folder_default.svg) *Процессов* и ![Измерения](../../images/icons/data-warehouse/dimensions-folder_default.svg) *Измерений* из которых необходимо выбрать лишь один объект — ![Процесс](../../images/icons/data-warehouse/fact-table_default.svg) *Процесс* или ![Измерение](../../images/icons/data-warehouse/dimension_default.svg) *Измерение*.

### Step 2. Импорт из хранилища данных

На данной странице происходит работа с внутренними элементами объекта, выбранного на предыдущем шаге: измерениями, атрибутами и фактами.

Окно мастера поделено на две области:

* **Доступные элементы** — левая часть, содержит список возможных для выбора элементов, соответствующих выбранному на предыдущем шаге объекту;
* **Выбранные элементы** — правая часть с уже выбранными элементами, позволяет указать интересуемые элементы из первого и задать им необходимые условия и значения.

Элемент может присутствовать только в одном списке. Между списками доступно перемещение элементов, в том числе и с помощью перетаскивания (*drag&drop*).

### Доступные элементы

* **Параметр** — метка параметра, при наведении курсора мыши появляется полное название метки.
* **Тип** — отображает типа элемента. Может быть:
   * ![Измерение](../../images/icons/data-warehouse/dimension_default.svg) *Измерение*.
   * ![Факт](../../images/icons/data-warehouse/fact_default.svg) *Факт*.
   * ![Атрибут](../../images/icons/data-warehouse/attribute_default.svg) *Атрибут*.

Список можно отсортировать, нажав по колонке *Параметр* или *Тип*. Выделить несколько элементов можно удерживая клавишу Shift или Ctrl.

Контекстное меню:

* ![Переместить](../../images/icons/toolbar-controls/create-out-column_default.svg) **Переместить в выбранные** — перемещает выделенный элемент в список *Выбранные элементы*;
* ![Переместить все](../../images/icons/toolbar-controls/create-out-columns_default.svg) **Переместить в выбранные все** — перемещает все доступные элементы в список *Выбранные элементы*.

### Выбранные элементы

* ![Выводить](../../images/icons/data-warehouse/on_default.svg) **Выводить** — определяет будет ли добавлен этот элемент в виде поля в выходной набор данных (если отключено, то поле добавлено не будет, но по нему можно установить фильтр);
* **Поле** — тоже что и *Параметр* в *Доступных элементах*;
* **Тип** — тоже что и *Тип* в *Доступных элементах*;
* **Условие** — для *Измерений* и *Атрибутов* позволяет выбирать из выпадающего списка условие фильтрации;
* **Значение** — для *Фактов* отображает выбранные [агрегации](../../processors/func/aggregation-functions.md), для остальных элементов отображается значение фильтрации, если указано условие;
* ![Удалить](../../images/icons/toolbar-controls/delete_default.svg) **Удалить** — перемещает соответствующий параметр обратно в список *Доступные элементы*.

> **Примечание:** если отключить вывод элемента и не задать *условий* и/или *значений*, то после сохранения списка этот элемент будет перемещен обратно в список *Доступные элементы*.

Если в поле *Условие* выбран вариант *в списке* или *вне списка*, то в поле *Значение* появится возможность отредактировать список, по которому будет проводится сравнение. Нажав на кнопку ![уточнить](../../images/extjs-theme/form/open-trigger/open-trigger_default.svg) откроется окно *Список значений* (см. далее).

Очередность элементов можно изменить:

* ![Переместить вверх](../../images/icons/toolbar-controls/moveup_default.svg) **Переместить вверх** — перемещает выделенный элемент вверх по списку;
* ![Переместить вниз](../../images/icons/toolbar-controls/movedown_default.svg) **Переместить вниз** — перемещает выделенный элемент вниз по списку.

Для исключения элемента из списка выбранных:

* Перетащить элемент из списка *Выбранные элементы* в *Доступные элементы*;
* Нажать на кнопку ![Удалить](../../images/icons/toolbar-controls/delete_default.svg) *Удалить*.

Для очистки всего списка нажать ![Удалить все](../../images/icons/toolbar-controls/delete-all_default.svg) *Удалить все...*.

Контекстное меню дублирует общие функции:

* ![выводить](../../images/icons/checkbox-states/checked_default.svg) **Выводить** — определяет будет ли добавлен этот элемент в виде поля в выходной набор данных;
* ![Удалить](../../images/icons/toolbar-controls/delete_default.svg) **Удалить** — перемещает соотвествующий параметр обратно в список *Доступные элементы*;
* ![Удалить все](../../images/icons/toolbar-controls/delete-all_default.svg) **Удалить все** — перемещает все параметры обратно в список *Доступные элементы*;
* ![Переместить вверх](../../images/icons/toolbar-controls/moveup_default.svg) **Переместить вверх** — перемещает выделенный элемент вверх по списку;
* ![Переместить вниз](../../images/icons/toolbar-controls/movedown_default.svg) **Переместить вниз** — перемещает выделенный элемент вниз по списку.

Доступны горячие клавиши, дублирующие некоторые перечисленные команды:

* %kbd Delete % — удалить;
* %kbd Shift Delete % — удалить все;
* %kbd Ctrl Up % — Переместить вверх;
* %kbd Ctrl Down % — Переместить вниз.

#### Список значений

Позволяет выбрать строки с которыми будут сравниваться значения.

* ![Получить список](../../images/icons/toolbar-controls/get-column-list_default.svg) **Получить список** — получает список, соответствующий выбранному элементу;
* ![Выбрать все](../../images/icons/toolbar-controls/check-all_default.svg) **Выбрать все** — отмечает все строки;
* ![Отменить выбор всех](../../images/icons/toolbar-controls/uncheck-all_default.svg) **Отменить выбор всех** — убирает выбор всех строк;
* ![Инвертировать выбор](../../images/icons/toolbar-controls/reverse-check_default.svg) **Инвертировать выбор** — меняет отмеченные и не отмеченные элементы местами;
* ![Добавить](../../images/icons/toolbar-controls/plus_default.svg) **Добавить** — позволяет добавить в список новую строку;
* ![Редактировать](../../images/icons/toolbar-controls/edit_default.svg) **Редактировать** — позволяет отредактировать добавленную в список строку.

При помощи поля ![фильтр](../../images/icons/toolbar-controls/filter_default.svg) *Фильтрация* можно уменьшить видимую часть списка.

После завершения работы со списком следует нажать кнопку *Применить* для внесения изменений либо *Отменить* для возврата к состоянию до начала работы со списком.
