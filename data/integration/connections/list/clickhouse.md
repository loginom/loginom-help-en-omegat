# ![ ](../../../images/icons/data-sources/db-clickhouse_default.svg) Подключение ClickHouse

Используется для подключения к базе данных ClickHouse.

## Connection Parameters

The following parameters are set during the connection setup:

* **Caption** contains the connection name set by a user.
* **Строка подключения** — строка вида `host[:port][:database]` задается как в отдельном окне, которое вызывается при клике мышью по кнопке ![ ](../../../images/extjs-theme/form/open-trigger/open-trigger_default.svg), так и вводом параметров вручную. Параметры *port* и *database* опциональные. По умолчанию *port* `9000`, *database* `default`.
* **Test connection**: test of the specified connection settings.
* **Логин** — логин пользователя БД. По умолчанию `default`.
* **Password** is a password of the DB user. По умолчанию пароль отсутствует.
* **Настройки SSL**  — по кнопке ![ ](../../../images/extjs-theme/form/open-trigger/open-trigger_default.svg) вызывается диалог установки параметров подключения через безопасное соединение:
   * **Использовать SSL** — при установленном флаге данные передаются по критографическому протоколу SSL/TLS.
   * **Сертификат CA** — путь к файлу с корневым сертификатом.
   * **Сертификат пользователя** — путь к файлу с клиентским сертификатом.
   * **Приватный ключ** — путь к файлу с приватным ключом.
   * **Пароль приватного ключа** — пароль приватного ключа. По умолчанию пустой.
* **Учитывать временную зону** — выполнять конвертацию из локального времени в UTC и обратно для столбцов типа [DateTime](https://clickhouse.tech/docs/ru/sql_reference/data_types/datetime/). По умолчанию опция включена.
* **Метод сжатия** — доступны варианты `Без сжатия` (используется по умолчанию) и `LZ4`.
* **Показывать системные таблицы** — при установке этого флага в мастере импорта, использующего данное подключение, становятся видимы доступные пользователю системные таблицы БД.
* **Обрамлять имена кавычками** — если имена объектов базы данных (например, имена таблиц, полей) содержат пробелы или зарезервированные символы, то необходимо использовать обрамляющие символы, фиксирующие начало и конец имени.
* **Настройка кавычек** — является информационным полем, указывающим, какие именно обрамляющие символы используются в подключении к данной БД. Для ClickHouse — двойные кавычки.
* **Не использовать клиент СУБД** — параметр недоступен, т. к. для подключения к ClickHouse всегда используется встроенный драйвер.

> **Примечание:**
> * Пул подключений не используется.
> * При [экспорте данных в новую таблицу](../../export/database/new-table-design.md) создается таблица [движка Log](https://clickhouse.tech/docs/ru/engines/table_engines/log_family/log/).
> * В виду ограничений БД ClickHouse:
>    * Не поддерживаются транзакции.
>    * Поддерживаются даты с 1970 до 2106 года.
>    * Не поддерживается обновление существующих записей в таблице.
>    * Удаление по ключу работает только для таблиц с движком из семейства [MergeTree](https://clickhouse.tech/docs/ru/engines/table_engines/#mergetree).

> **Важно:** В таблицах семейства MergeTree операции мутации данных не атомарны (подробнее см. [Мутации](https://clickhouse.tech/docs/ru/sql_reference/statements/alter/#alter-mutations)). Поскольку мутации используются при выполнении операции экспорта с удалением по ключу, то факт активации узла экспорта не гарантирует завершение процесса удаления записей. Длительность выполнения мутации пользователем не контролируется. Т.о. запрос на выборку данных, заданный непосредственно после выполнения узла экспорта с удалением по ключу, может вернуть старые записи.
> Данную особенность БД ClickHouse следует учитывать при проектировании систем.

## Compatibility

Версии БД ClickHouse 19.1 и выше.

**See also:**
* [Документация ClickHouse](https://clickhouse.tech/docs/ru/)