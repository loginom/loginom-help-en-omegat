---
description: Свертка столбцов в Loginom. Транспонирование таблиц в Loginom. Мастер настройки.
---
# ![Свёртка столбцов](./../../images/icons/components/column-flipping_default.svg) Свёртка столбцов

Компонент предназначен для транспонирования таблицы. При этом заголовки выбранных столбцов переносятся в значения строк, а их данные — в один столбец. Поскольку в этот столбец могут перемещаться данные разных [типов](./../../data/datatype.md), то для них используется тип данных ![Переменный](./../../images/icons/common/data-types/variant_default.svg) *Переменный*.

%spoiler%Пример:%spoiler%

Исходный набор данных:

 | Код клиента | Месяц | Кол-во SMS | Кол-во минут вх | Статус | Наличие скидки |
 | ----------: | :---- | ---------: | --------------: | :----- | :------------- |
 | 1 | август | 81 | 506 | постоянный | True |
 | 1 | сентябрь | 32 | 231 | не постоянный | False |

Выполним свертку столбцов. Поля `Код клиента` и `Месяц` выберем как ![Информационные](./../../images/icons/common/usage-types/unspecified_default.svg) *Информационные*. А `Кол-во SMS` (![Целый тип](./../../images/icons/common/data-types/integer_default.svg)*Целый тип*), `Кол-во минут вх` (![Целый тип](./../../images/icons/common/data-types/integer_default.svg)*Целый тип*), `Статус` (![Строковый тип](./../../images/icons/common/data-types/string_default.svg)*Строковый тип*), `Наличие скидки` (![Логический тип](./../../images/icons/common/data-types/boolean_default.svg)*Логический тип*), выберем ![Транспонируемые](./../../images/icons/common/dataset-operations/dsa-flipping_default.svg) *Транспонируемыми*.

Результирующий набор данных:

 | Код клиента | Месяц | Имена | Метки | Значения | Типы данных |
 | ----------: | :---- | :---- | :---- | :------- | ----------: |
 | 1 | август | COL3 | Кол-во SMS | 81 | 4 |
 | 1 | август | COL4 | Кол-во минут вх | 506 | 4 |
 | 1 | август | COL5 | Статус | постоянный | 5 |
 | 1 | август | COL6 | Наличие скидки | True | 1 |
 | 1 | сентябрь | COL3 | Кол-во SMS | 32 | 4 |
 | 1 | сентябрь | COL4 | Кол-во минут вх | 231 | 4 |
 | 1 | сентябрь | COL5 | Статус | не постоянный | 5 |
 | 1 | сентябрь | COL6 | Наличие скидки | False | 1 |

%/spoiler%

## Вход

* ![Входной источник данных](./../../images/icons/app/node/ports/inputs/table_inactive.svg) **Входной источник данных** — порт для подключения входного набора данных.

### Выход

* ![Выходной источник данных](./../../images/icons/app/node/ports/inputs/table_inactive.svg) **Выходной набор данных** — на порт выводится таблица с транспонированным набором данных.

## Мастер настройки

Окно мастера поделено на две области: доступные поля (слева) и выбранные поля (справа).

* **Доступные поля** — содержит список полей входного набора данных.
* **Выбранные поля** — делится на списки.
  * ![Информационные](./../../images/icons/common/usage-types/unspecified_default.svg) **Информационные** — содержит поля, которые не будут изменяться.
  * ![Транспонируемые](./../../images/icons/common/dataset-operations/dsa-flipping_default.svg) **Транспонируемые** — на основе этих полей будут сформированы 4 новых столбца: *Имена*, *Метки*, *Значения*, *Типы данных*.

Для настройки требуется переместить поля входного набора в списки *Информационные* или *Транспонируемые*, перетаскивая их мышью. Также это можно сделать при помощи кнопок перемещения.

Результирующий набор данных содержит:

* Столбцы исходного набора данных из списка *Информационные*. Их значения никак не изменяются.
* Сформированные узлом столбцы.
  * **Имена** — столбец с именами транспонируемых столбцов.
  * **Метки** — столбец с метками столбцов.
  * **Значения** — этот столбец содержит все значения транспонируемых столбцов, т.к. эти столбцы могут иметь разный тип (как это показано в примере), то столбец Значения имеет тип данных ![Переменный](./../../images/icons/common/data-types/variant_default.svg) *Переменный*.
  * **Типы данных** — столбец, содержащий информацию о типе данных значений. Типы в данном столбце обозначаются цифрами.
    * **0** — ![Неопределенный](./../../images/icons/common/data-types/none_default.svg) *Неопределенный*.
    * **1** — ![Логический](./../../images/icons/common/data-types/boolean_default.svg) *Логический*.
    * **2** — ![Дата/время](./../../images/icons/common/data-types/datetime_default.svg) *Дата/время*.
    * **3** — ![Вещественный](./../../images/icons/common/data-types/float_default.svg) *Вещественный*.
    * **4** — ![Целый](./../../images/icons/common/data-types/integer_default.svg) *Целый*.
    * **5** — ![Строковый](./../../images/icons/common/data-types/string_default.svg) *Строковый*.
    * **6** — ![Переменный](./../../images/icons/common/data-types/variant_default.svg) *Переменный*.

При установке флага *Игнорировать пустые значения* узел не будет включать в результирующий набор строки с пустыми значениями в транспонируемых полях.
