# Настройка конечных классов

Для начала оценки и корректировки результатов формирования начальных и конечных классов необходимо нажать на кнопку *Активировать*, расположенную справа от поля *Состояние входа*. Для включения режима редактирования используется кнопка ![](./../../../images/icons/common/toolbar-controls/toolbar-controls_18x18_manual-editing_default.svg) *Редактировать разбиение*. Чтобы сохранить внесенные изменения необходимо нажать кнопку *Применить*, если изменения настроек сохранять не требуется, то — *Отменить*.

На панели инструментов доступны следующие команды:

* ![](./../../../images/icons/common/toolbar-controls/fields-list-settings_default.svg) **Скрыть боковую панель** — нажатие на кнопку скрывает панель со списком входных столбцов, повторное нажатие возвращает панель;
* ![](./../../../images/icons/common/toolbar-controls/toolbar-controls_18x18_manual-editing_default.svg) **Редактировать разбиение** — при нажатии на кнопку становятся доступны поля для редактирования параметров конечных классов;
* ![](./../../../images/icons/common/toolbar-controls/toolbar-controls_18x18_merge-left_default.svg) **Объединить с предыдущим** — объединяет конечный класс, выделенный на диаграмме или в таблице детализации, с предыдущим (расположенным левее) классом (кнопка доступна в режиме редактирования разбиения, т.е. когда нажата кнопка ![Редактировать разбиение](./../../../images/icons/common/toolbar-controls/toolbar-controls_18x18_manual-editing_default.svg)); 
* ![](./../../../images/icons/common/toolbar-controls/toolbar-controls_18x18_merge-right_default.svg) **Объединить со следующим** — объединяет конечный класс, выделенный на диаграмме или в таблице детализации, с последующим (расположенным правее) классом (кнопка доступна в режиме редактирования разбиения);
* ![](./../../../images/icons/common/toolbar-controls/toolbar-controls_18x18_table-view_default.svg) **Показать таблицу конечных классов** — область конечных классов будет представлена в виде таблицы (можно также вызвать начатием клавиш *Alt+One*);
* ![](./../../../images/icons/common/toolbar-controls/toolbar-controls_18x18_chart_default.svg) **Показать диаграммы конечных классов** — область конечных классов будет представлена в виде диаграмм (*Alt+Two*);
* ![](./../../../images/icons/switches/roc/relative_default.svg)**Доли событий** / ![](./../../../images/icons/switches/roc/absolute_default.svg)**Количество событий** — переключение для отображения абсолютных и относительных значений.

Все перечисленные команды доступны и в контекстном меню (правая кнопка мыши). Кроме них в контекстном меню доступны команды:
* **Разбить по границе** — установка новой дополнительной границы, а значит увеличение числа конечных классов на 1 (операция обратная командам *Объединить со следующим/Объединить с предыдущим*);
* **Заморозить выбранные** — изменить статус поля на *Заморожено* (т.е. поле не будет использоваться при переобучении), команда также доступна при нажатии на кнопку ![Заморожено](./../../../images/icons/common/toolbar-controls/toolbar-controls_18x18_locked_default.svg) слева от каждого входного столбца;
* **Разморозить выбранные** — изменить статус поля на *Разморожено* (т.е. поле может быть использовано в процессе формирования конечных классов при переобучении), команда также доступна при нажатии на кнопку ![Разморожено](./../../../images/icons/common/toolbar-controls/toolbar-controls_18x18_unlocked_default.svg) слева от каждого входного столбца.

Для редактирования доступны следующие параметры:

* **Конечные классы**:
  * **Минимальная доля, %** — это отношение числа наблюдений, для которых значение входного признака попадает в данный класс, к общему числу наблюдений исходного набора данных (вес класса). По умолчанию устанавливается 5%. Формирование классов с весом меньше заданного не допускается. Малый вес класса указывает на его низкую значимость и целесообразность объединения с некоторым другим классом.
  * **Максимальное количество** — наибольшее допустимое количество классов, создаваемое узлом для столбца. По умолчанию устанавливается значение 5. Это значение можно изменить: большое число классов приводит к уменьшению их веса, а малое — к уменьшению информационного индекса.
  * **Установить...** — показывает зависимость [IV](https://wiki.loginom.ru/articles/information-value.html) от количества классов и позволяет выбрать их число для настройки максимального количества. После нажатия на кнопку *Рассчитать* пересчитываются показатели в соответствии с выбранным количеством классов.

* **Оптимизация**:
  * **Равномерность, %** — определяет способ разбиения диапазона изменения входного признака на классы (интервалы). По умолчанию параметр равен 0, и может изменяться от 0 до 1. Значение, равное 0, обеспечивает такое разбиение на классы, которое максимизирует информационный индекс. При значении параметра, равном 1, алгоритм формирует классы таким образом, чтобы в каждый из них попало примерно одинаковое число наблюдений. Таким образом, в первом случае повышается значимость признака, а во втором — интерпретируемость конечных классов.

  
  Любые внесенные изменения немедленно отражаются на диаграмме и в таблице детализации.

  В *Списке входных столбцов* можно сортировать и фильтровать записи. Для этого нужно открыть выпадающее меню, нажав кнопку ![Открыть выпадающее меню](./../../../images/icons/common/toolbar-controls/toolbar-controls_18x18_down_default.svg), которая появляется при наведении курсора на заголовок *Столбец* или *IV*.
