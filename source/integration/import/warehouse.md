---
description: Импорт данных в Loginom из Хранилища данных Deductor Warehouse. Мастер настройки.
---
# ![Импорт из ХД](./../../images/icons/common/data-sources/wh-datawarehouse-import_default.svg) Импорт из Deductor Warehouse

Компонент предназначен для импорта набора данных из Хранилища данных [Deductor Warehouse](./../../data-format/data-warehouse.md) (далее — Хранилище данных).

> **Важно:** Для работы узла требуется предварительно создать [Подключение](./../connections/README.md) к *Хранилищу данных* и связать его с входным портом *Подключение*.

## Порты

### Входные порты

* ![Порт подключений](./../../images/icons/app/node/ports/inputs/link_inactive.svg) **Подключение** — принимает параметры подключения к Хранилищу данных.

### Выходные порты

* ![Выходной порт таблицы](./../../images/icons/app/node/ports/inputs/table_inactive.svg) **Набор данных** — Импортированные из хранилища данные.

## Мастер настройки

Позволяет настроить импорт из Хранилища данных.

### Шаг 1. Выбор объекта хранилища данных

* **Подключение** — отображает строку подключения к источнику данных. Недоступна для редактирования.
* **Активировать** — позволяет установить связь с Хранилищем данных, если это еще не было сделано. После установления связи кнопка перестает быть активной, а название меняется на *Активировано*.
* **Объекты хранилища данных** — содержит древовидный список ![Процессы](./../../images/icons/imports/dwh/data-warehouse/fact-tables-folder_default.svg) *Процессов* и ![Измерения](./../../images/icons/imports/dwh/data-warehouse/dimensions-folder_default.svg) *Измерений*, из которых необходимо выбрать лишь один объект — ![Процесс](./../../images/icons/imports/dwh/data-warehouse/fact-table_default.svg) *Процесс* или ![Измерение](./../../images/icons/imports/dwh/data-warehouse/dimension_default.svg) *Измерение*.

### Шаг 2. Импорт из хранилища данных

На данной странице происходит работа с внутренними элементами объекта, выбранного на предыдущем шаге: измерениями, атрибутами и фактами.

Окно мастера поделено на две области:

* **Доступные элементы** — левая часть со списком возможных для выбора элементов, соответствующих выбранному на предыдущем шаге объекту.
* **Выбранные элементы** — правая часть с уже выбранными элементами, которая позволяет указать интересующие элементы из левой части и задать им необходимые условия и значения.

Элемент может присутствовать только в одном списке. Между списками доступно перемещение элементов, в том числе и с помощью перетаскивания (*drag&drop*).

### Доступные элементы

* **Параметр** — метка параметра. При наведении курсора мыши появляется полное название метки.
* **Тип** — отображает тип элемента. Может быть:
  * ![Измерение](./../../images/icons/imports/dwh/data-warehouse/dimension_default.svg) *Измерение*.
  * ![Факт](./../../images/icons/imports/dwh/data-warehouse/fact_default.svg) *Факт*.
  * ![Атрибут](./../../images/icons/imports/dwh/data-warehouse/attribute_default.svg) *Атрибут*.  

> **Примечание:** Агрегация обязательна при импорте из хранилища данных. Агрегировать возможно только те данные, где тип объекта хранилища данных является фактом.
Варианты агрегации: Сумма, Минимум, Максимум, Среднее, Количество.

Список можно отсортировать, нажав по колонке *Параметр* или *Тип*. Выделить несколько элементов можно удерживая клавишу Shift или Ctrl.

Контекстное меню:

* ![Переместить](./../../images/icons/common/toolbar-controls/create-out-column_default.svg) **Переместить в выбранные** — перемещает выделенный элемент в список *Выбранные элементы*.
* ![Переместить все](./../../images/icons/common/toolbar-controls/create-out-columns_default.svg) **Переместить в выбранные все** — перемещает все доступные элементы в список *Выбранные элементы*.

### Выбранные элементы

* ![Выводить](./../../images/icons/imports/dwh/data-warehouse/on_default.svg) **Выводить** — определяет, будет ли добавлен этот элемент в виде поля в выходной набор данных (если отключено, то поле добавлено не будет, но по нему можно установить фильтр).
* **Поле** — то же, что и *Параметр* в *Доступных элементах*.
* **Тип** — то же, что и *Тип* в *Доступных элементах*.
* **Условие** — для *Измерений* и *Атрибутов* позволяет выбирать из выпадающего списка условие фильтрации.
* **Значение** — для *Фактов* отображает выбранные [агрегации](./../../processors/func/aggregation-functions.md), для остальных элементов — значение фильтрации, если указано условие.
* ![Удалить](./../../images/icons/common/toolbar-controls/delete_default.svg) **Удалить** — перемещает соответствующий параметр обратно в список *Доступные элементы*.

> **Примечание:** если отключить вывод элемента и не задать *условий* и/или *значений*, то после сохранения списка этот элемент будет перемещен обратно в список *Доступные элементы*.

Если в поле *Условие* выбран вариант *в списке* или *вне списка*, то в поле *Значение* появится возможность отредактировать список, по которому будет проводиться сравнение. При нажатии на кнопку ![уточнить](./../../images/extjs-theme/form/open-trigger/open-trigger_default.svg) откроется окно *Список значений* (см. далее).

Если в поле *Условие* выбран любой другой вариант, то в поле *Значение* появится возможность указать некоторые параметры фильтрации с помощью переменных. При нажатии на кнопку ![уточнить](./../../images/extjs-theme/form/open-trigger/open-trigger_default.svg) откроется окно, в котором можно указать нужное значение напрямую либо выбрать соответствующую переменную из списка.

Очередность элементов можно изменить:

* ![Переместить вверх](./../../images/icons/common/toolbar-controls/moveup_default.svg) **Переместить вверх** — перемещает выделенный элемент вверх по списку.
* ![Переместить вниз](./../../images/icons/common/toolbar-controls/movedown_default.svg) **Переместить вниз** — перемещает выделенный элемент вниз по списку.

Для исключения элемента из списка выбранных:

* Перетащить элемент из списка *Выбранные элементы* в *Доступные элементы*.
* Нажать на кнопку ![Удалить](./../../images/icons/common/toolbar-controls/delete_default.svg) *Удалить*.

Для очистки всего списка нажать ![Удалить все](./../../images/icons/common/toolbar-controls/delete-all_default.svg) *Удалить все...*.

Контекстное меню дублирует общие функции:

* ![Выводить](./../../images/icons/ext/checkbox-states/checked_default.svg) **Выводить** — определяет, будет ли добавлен этот элемент в виде поля в выходной набор данных.
* ![Удалить](./../../images/icons/common/toolbar-controls/delete_default.svg) **Удалить** — перемещает соответствующий параметр обратно в список *Доступные элементы*.
* ![Удалить все](./../../images/icons/common/toolbar-controls/delete-all_default.svg) **Удалить все** — перемещает все параметры обратно в список *Доступные элементы*.
* ![Переместить вверх](./../../images/icons/common/toolbar-controls/moveup_default.svg) **Переместить вверх** — перемещает выделенный элемент вверх по списку.
* ![Переместить вниз](./../../images/icons/common/toolbar-controls/movedown_default.svg) **Переместить вниз** — перемещает выделенный элемент вниз по списку.

Доступны горячие клавиши, дублирующие некоторые перечисленные команды:

* %kbd Delete % — удалить;
* %kbd Shift Delete % — удалить все;
* %kbd Ctrl Up % — переместить вверх;
* %kbd Ctrl Down % — переместить вниз.

#### Список значений

Позволяет выбрать строки, с которыми будут сравниваться значения.

* ![Получить список](./../../images/icons/common/toolbar-controls/get-column-list_default.svg) **Получить список** — получает список, соответствующий выбранному элементу.
* ![Выбрать все](./../../images/icons/common/toolbar-controls/check-all_default.svg) **Выбрать все** — отмечает все строки.
* ![Отменить выбор всех](./../../images/icons/common/toolbar-controls/uncheck-all_default.svg) **Отменить выбор всех** — убирает выбор всех строк.
* ![Инвертировать выбор](./../../images/icons/common/toolbar-controls/reverse-check_default.svg) **Инвертировать выбор** — меняет отмеченные и неотмеченные элементы местами.
* ![Добавить](./../../images/icons/common/toolbar-controls/plus_default.svg) **Добавить** — позволяет добавить в список новую строку.
* ![Редактировать](./../../images/icons/common/toolbar-controls/edit_default.svg) **Редактировать** — позволяет отредактировать добавленную в список строку.

При помощи поля ![фильтр](./../../images/icons/common/toolbar-controls/filter_default.svg) *Фильтрация* можно уменьшить видимую часть списка.

После завершения работы со списком следует нажать кнопку *Применить* для внесения изменений либо *Отменить* для возврата к состоянию до начала работы со списком.
